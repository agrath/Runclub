<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
    <!--<script src="js/vendor.bundle.js"></script>-->
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDeWHf1yBGiJgWoaQH_PEN2bnwZ2aCFSbE&libraries=geometry,visualization"></script>
    <script src="js/vendor/jquery-3.2.1.min.js"></script>
    <script src="js/vendor/angular.js"></script>
    <script src="js/vendor/angular-sanitize.min.js"></script>
    <script src="js/vendor/underscore-min.js"></script>
    <script src="js/vendor/gpx.js"></script>
    <script src="js/vendor/v3_epoly.js"></script>
    <script src="js/vendor/chart.js"></script>
    <script src="js/vendor/snazzy-info-window.js"></script>
    <script src="js/app.js"></script>
    <script src="js/directives.js"></script>
    <script src="js/routes.controller.js"></script>
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Open+Sans:400,600" />
    <link href="css/snazzy-info-window.css" rel="stylesheet" />
    <link href="css/routes.css" rel="stylesheet" />
</head>
<body>
    <div class="route-container" ng-app="routesApp" ng-controller="routesController">
        <div class="route" ng-repeat="route in data">
            <h1>{{ route.name }}</h1>
            <p ng-bind-html="route.description | br"></p>
            <h3>Meeting point</h3>
            <p>{{route.meetingPoint.label}}</p>
            <h3>Distance options</h3>
            <ul class="distance-options">
                <li ng-repeat="option in route.distanceOptions"><i class="fa fa-check-circle-o"></i>{{option}} km</li>
            </ul>
            <h3>Terrain</h3>
            <ul class="terrain-options">
                <li ng-repeat="item in route.terrain" ng-style="{width:item.percent+'%'}" ng-class="'terrain-'+item.type">
                    <strong>{{item.type}}</strong>
                    {{item.percent}}%
                </li>
            </ul>
            <div class="map-container" data-route-id="{{route.id}}">
                <gpx-viewer route="route" ng-if="route.gpxLoaded"></gpx-viewer>
            </div>
            <a ng-href="/routes/{{route.id}}.gpx" download="{{route.name}}.gpx">Download GPX file</a>
            <br/><br />
            <strong>Display on map:</strong>
            <ul>
                <li><input type="checkbox" ng-model="route.displayGpxRoute" id="{{route.id}}-display-route" /><label for="{{route.id}}-display-route">Route</label></li>
                <li><input type="checkbox" ng-model="route.displayDistanceMarkers" id="{{route.id}}-display-distance-markers" /><label for="{{route.id}}-display-distance-markers">Distance markers</label></li>
                <li ng-if="route.placesOfInterest.length">
                    <em>Places of Interests</em>
                    <ul>
                        <li ng-repeat="placesOfInterestType in route.placesOfInterestOptions">
                            <input type="checkbox" ng-model="placesOfInterestType.visible" id="{{route.id}}-display-placesOfInterestType-{{$index}}" /><label for="{{route.id}}-display-placesOfInterestType-{{$index}}">{{placesOfInterestType.label}}</label>
                        </li>
                    </ul>
                </li>
                <li ng-if="route.diversions.length">
                    <em>Alternate routes</em>
                    <ul>
                        <li ng-repeat="diversion in route.diversions">
                            <input type="checkbox" ng-model="diversion.visible" id="{{route.id}}-display-diversion-{{$index}}" /><label for="{{route.id}}-display-diversion-{{$index}}">{{diversion.label.title}}</label>
                        </li>
                    </ul>
                </li>
            </ul>
            <div class="elevation-graph">
                <gpx-elevation-chart route="route" ng-if="route.gpxLoaded"></gpx-elevation-chart>
            </div>

        </div>

    </div>
</body>
</html>